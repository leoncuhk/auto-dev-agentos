# Quant Lab - 算法回测示例 (Researcher Mode)

## 实验目标 (Hypothesis)

我们要在这个基于移动平均线 (Moving Average) 的量化回测基础上，寻找能够提升策略稳定收益（Sharpe Ratio）的新因子或组合逻辑。

### 1. 基础环境
*   语言: Python 3
*   回测框架: 后续你可以使用任何你喜欢的（例如简单的 pandas 计算，或者 backtrader）。目前基线是一个基于随机漫步价格序列的模拟回测。
*   启动回测命令: `python run_backtest.py`
    *   该脚本最后会输出唯一的标准日志行：`[Metric] Sharpe Ratio: <float>`

### 2. 基线 (Baseline)
当前的最基础的双均线交叉策略（10日线穿20日线出金叉），夏普比率为 `0.85`。

### 3. 搜索空间与优化方向 (Search Space)
你的任务不是重写整个框架，而是探索新策略，尝试以下方向：
1.  **参数优化**: 网格搜索或随机探索不同 MA 的窗口值。
2.  **新因子介入**: 引入 MACD、RSI 甚至是简单的动量因子。
3.  **风控层**: 尝试增加硬性止损或动态止盈模块。

### 4. 目标指标 (Target Metrics)
*   **主要优化目标**: Sharpe Ratio (目标值 >= 1.5)
*   如果你的某次修改（实验）导致回测脚本抛出异常，或 Sharpe Ratio 跌出 0.85 以下，**你必须把代码回滚 (Revert)**，并将这次修改的思路以及导致失败的教训写入你的日记中，然后在下一个循环换一个全新的思路重新尝试。

```
如果( Sharpe Ratio < 0.85 || 出错 ):
   执行 `git checkout .` 或者将代码恢复原样。
   将此“死胡同”方向记录至教训中以防再次尝试。
```

> **注意**: 在 Researcher Mode 下，失败是被允许的实验成本。**保护代码本源且持续累积有效的实验经验，是战胜随机性的唯一途径。**
